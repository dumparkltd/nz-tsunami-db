define(["jquery","underscore","backbone","models/ViewModel"],function(t,e,n,i){return i.extend({initialize:function(t){this.options=t||{},this.set("expanded",[]),this.set("expandedSections",[]),this.set("focus","record"),this.get("columnGroupCollection")&&this.set("sections",this.groupFilterGroups())},groupFilterGroups:function(){var t=this.get("columnGroupCollection").filter(function(t){return void 0!==t.get("section")&&(void 0===t.get("filter")||!!t.get("filter"))});return e.groupBy(t,function(t){return t.get("section")})},getColumnGroupsBySections:function(){return this.attributes.sections||this.set("sections",this.groupFilterGroups()),this.attributes.sections},getSections:function(){return e.map(Object.keys(this.getColumnGroupsBySections()),function(t){return{title:t,id:t,classes:""}})},getExpanded:function(){return this.attributes.expanded},allExpanded:function(){return this.attributes.expanded.length===this.attributes.columnGroupCollection.length},isExpanded:function(t){return this.attributes.expanded.indexOf(t)>-1},setExpanded:function(t){this.set("expanded",t)},getExpandedSection:function(){return this.attributes.expandedSection},isExpandedSection:function(t){return this.attributes.expandedSection===t},setExpandedSection:function(t){this.set("expandedSection",t)},getFocus:function(){return this.attributes.focus},setFocus:function(t){this.set("focus",t)},addExpanded:function(t){"object"==typeof t?this.set("expanded",e.uniq(this.attributes.expanded.concat(t))):this.set("expanded",e.uniq(this.attributes.expanded.concat([t])))},removeExpanded:function(t){"object"==typeof t?this.set("expanded",e.difference(this.attributes.expanded,t)):this.set("expanded",e.without(this.attributes.expanded,t))}})});