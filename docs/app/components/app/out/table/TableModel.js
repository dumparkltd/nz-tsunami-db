define(["jquery","underscore","backbone","models/ViewModel"],function(t,e,r,n){return n.extend({initialize:function(t){this.options=t||{},this.set("expanded",!1),this.set("tableSortOrder","1"),this.set("tableSortColumn","id")},setCurrentRecords:function(t){this.set("currentRecordCollection",t)},getCurrentRecords:function(){return this.attributes.currentRecordCollection},getSortedRecords:function(){var t=this.attributes.currentRecordCollection.clone(),e=parseInt(this.attributes.tableSortOrder),r=this;return t.comparator=function(t,n){var i=t.get(r.attributes.tableSortColumn),o=n.get(r.attributes.tableSortColumn);return null===i||""===i||null===o||""===o?null!==i&&""!==i||null===o||""===o?null===i||""===i||null!==o&&""!==o?(i>o?1:o>i?-1:0)*e:-1:1:isNumber(i)&&!isNumber(o)?1*e:isNumber(o)&&!isNumber(i)?-1*e:isNumber(o)&&isNumber(i)?(parseFloat(i)>parseFloat(o)?1:-1)*e:(i>o?1:-1)*e},t.sort(),t.models},allExpanded:function(){return this.attributes.expanded},setExpanded:function(t){return this.set("expanded",t)}})});